<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <QuestScriptDef>
    <defName>OpportunitySite_Asteroid</defName>
    <randomlySelectable>false</randomlySelectable>
    <givenBy>
      <li>OrbitalScanner</li>
    </givenBy>
    <rootSelectionWeight>1.5</rootSelectionWeight>
    <isRootSpecial>true</isRootSpecial>
    <autoAccept>true</autoAccept>
    <questNameRules>
      <rulesStrings>
        <li>questName->[resource] Asteroid</li>
      </rulesStrings>
    </questNameRules>
    <questDescriptionRules>
      <rulesStrings>
        <li>questDescription->[discoveryMethod] the location of an asteroid orbiting the planet. It contains significant amounts of [resource], and potentially other resources as well.\n\nOrbital miners steer asteroids into orbit so that they can be mined and the ore sold to orbital traders. You do not detect any signs of life from this asteroid.\n\nYou can reach the asteroid with transport pods, shuttles, or a gravship. Equip your colonists with sufficient orbital apparel before departing.</li>
      </rulesStrings>
    </questDescriptionRules>
    <questDescriptionAndNameRules>
      <rulesStrings>
      </rulesStrings>
    </questDescriptionAndNameRules>
    <canOccurOnAllPlanetLayers>true</canOccurOnAllPlanetLayers>
    <root Class="QuestNode_Sequence">
      <nodes>
        <li Class="QuestNode_IsSet">
          <name>discoveryMethod</name>
          <elseNode Class="QuestNode_RandomNode">
            <nodes>
              <li Class="QuestNode_Set">
                <name>discoveryMethod</name>
                <value>You have discovered</value>
              </li>
            </nodes>
          </elseNode>
        </li>

        <li Class="QuestNode_Root_Asteroid">
          <layerDef>Orbit</layerDef>
          <worldObjectDef>AsteroidMiningSite</worldObjectDef>
          <mineables>
            <li>MineableGold</li>
            <li>MineablePlasteel</li>
            <li>MineableUranium</li>
          </mineables>
        </li>
      </nodes>
    </root>
  </QuestScriptDef>

  <QuestScriptDef>
    <defName>OpportunitySite_OrbitalItemStash</defName>
    <randomlySelectable>false</randomlySelectable>
    <givenBy>
      <li>OrbitalScanner</li>
    </givenBy>
    <rootSelectionWeight>1</rootSelectionWeight>
    <isRootSpecial>true</isRootSpecial>
    <autoAccept>true</autoAccept>
    <questAvailableLetterTextIsDescription>true</questAvailableLetterTextIsDescription>
    <questNameRules>
      <rulesStrings>
        <li>questName->[adjective] [orbital] [stash_noun]</li>
        <li>questName->[orbital] [stash_noun]</li>
        
        <li>adjective->Hidden</li>
        <li>adjective->Secret</li>
        <li>orbital->Orbital</li>
        <li>orbital->Asteroid</li>
        <li>stash_noun->Stash</li>
        <li>stash_noun->Cache</li>
      </rulesStrings>
    </questNameRules>
    <questDescriptionRules>
      <rulesStrings>
        <li>questDescription->[discoveryMethod] an unusual asteroid orbiting the planet. The asteroid has a hollow core which contains several structures.\n\nYou can break in to obtain the loot inside.\n\nBe warned - the buildings may contain defense systems.</li>
      </rulesStrings>
    </questDescriptionRules>
    <canOccurOnAllPlanetLayers>true</canOccurOnAllPlanetLayers>
    <root Class="QuestNode_Sequence">
      <nodes>
        <li Class="QuestNode_IsSet">
          <name>discoveryMethod</name>
          <elseNode Class="QuestNode_RandomNode">
            <nodes>
              <li Class="QuestNode_Set">
                <name>discoveryMethod</name>
                <value>You have discovered</value>
              </li>
            </nodes>
          </elseNode>
        </li>

        <li Class="QuestNode_Root_Asteroid">
          <layerDef>Orbit</layerDef>
          <worldObjectDef>OrbitalItemStash</worldObjectDef>
        </li>
      </nodes>
    </root>
  </QuestScriptDef>

  <QuestScriptDef>
    <defName>OpportunitySite_AbandonedPlatform</defName>
    <randomlySelectable>false</randomlySelectable>
    <givenBy>
      <li>OrbitalScanner</li>
    </givenBy>
    <rootSelectionWeight>1</rootSelectionWeight>
    <isRootSpecial>true</isRootSpecial>
    <autoAccept>true</autoAccept>
    <questAvailableLetterTextIsDescription>true</questAvailableLetterTextIsDescription>
    <questNameRules>
      <rulesStrings>
        <li>questName(p=3)->[ancientPlatAdj] [platform]</li>
        <li>questName->[PlaceOutlander] [platform]</li>
        <li>questName->[platform] [greekLetter]</li>
        <li>questName->[platAdj] [platform] [RomanNumeral]</li>

        <li>ancientPlatAdj->abandoned</li>
        <li>ancientPlatAdj->ancient</li>
        <li>ancientPlatAdj->[platAdj]</li>

        <li>platAdj->starlight</li>
        <li>platAdj->nebula</li>
        <li>platAdj->horizon</li>
        <li>platAdj->eclipse</li>
        <li>platAdj->zenith</li>
        <li>platAdj->aurora</li>
        <li>platAdj->corona</li>
        <li>platAdj->nova</li>
        <li>platAdj->eon</li>
        <li>platAdj->solace</li>
        <li>platAdj->lumina</li>
        <li>platAdj->ion</li>
        <li>platAdj->astralis</li>
        
        <li>platAdj->apollo</li>
        <li>platAdj->ares</li>
        <li>platAdj->hades</li>
        <li>platAdj->ajax</li>
        <li>platAdj->eos</li>
        <li>platAdj->eros</li>
        <li>platAdj->chronos</li>
        <li>platAdj->zephyrus</li>
        <li>platAdj->argos</li>
        <li>platAdj->orion</li>
        <li>platAdj->hermes</li>
        <li>platAdj->atlas</li>
        <li>platAdj->helios</li>
        <li>platAdj->hephaestus</li>
        <li>platAdj->talos</li>

        <li>platAdj->vanguard</li>
        <li>platAdj->aegis</li>
        <li>platAdj->halcyon</li>
        <li>platAdj->skyforge</li>
        <li>platAdj->titan</li>

        <li>platform(p=2)->station</li>
        <li>platform->platform</li>
        <li>platform->orbital platform</li>
        <li>platform->orbital hub</li>
        <li>platform(p=0.5)->skygate</li>
        <li>platform(p=0.5)->spacedock</li>
        <li>platform(p=0.5)->gateway</li>

        <li>greekLetter->alpha</li>
        <li>greekLetter->beta</li>
        <li>greekLetter->theta</li>
        <li>greekLetter->delta</li>
        <li>greekLetter->zeta</li>
        <li>greekLetter->sigma</li>
        <li>greekLetter->omega</li>

        <li>PlaceOutlander(p=3)->[SylE][place_end]</li>
        <li>PlaceOutlander->[SylE][SylE][place_end]</li>
      </rulesStrings>
      <rulesFiles>
        <li>place_end->WordParts/PlaceEndings</li>
      </rulesFiles>
    </questNameRules>
    <questDescriptionRules>
      <rulesStrings>
        <li>questDescription->[discoveryMethod] the location of an abandoned orbital platform. You don't detect any signs of life.\n\nYou can break in to obtain the loot inside, but the platform probably has defense systems.\n\nYou can travel to orbital locations using gravships, shuttles, or transport pods.</li>
      </rulesStrings>
    </questDescriptionRules>
    <canOccurOnAllPlanetLayers>true</canOccurOnAllPlanetLayers>
    <root Class="QuestNode_Sequence">
      <nodes>
        <li Class="QuestNode_IsSet">
          <name>discoveryMethod</name>
          <elseNode Class="QuestNode_RandomNode">
            <nodes>
              <li Class="QuestNode_Set">
                <name>discoveryMethod</name>
                <value>You have discovered</value>
              </li>
            </nodes>
          </elseNode>
        </li>
        
        <li Class="QuestNode_Root_Site">
          <layerWhitelist>
            <li>Orbit</li>
          </layerWhitelist>
          <canBeSpace>true</canBeSpace>
          <sitePartDef>Opportunity_AbandonedPlatform</sitePartDef>
          <worldObjectDef>ClaimableSpaceSite</worldObjectDef>
          <distanceFromColonyRange>1~3</distanceFromColonyRange> <!-- distance is in on the orbital layer tiles -->
        </li>

        <li Class="QuestNode_WorldObjectTimeout">
          <worldObject>$site</worldObject>
          <isQuestTimeout>true</isQuestTimeout>
          <delayTicks>$(randInt(45,60)*60000)</delayTicks>
          <inSignalDisable>site.MapGenerated</inSignalDisable>
          <node Class="QuestNode_Sequence">
            <nodes>
              <li Class="QuestNode_Letter">
                <label TKey="LetterLabelQuestExpired">Quest expired: [resolvedQuestName]</label>
                <text TKey="LetterTextQuestExpired">Intercepted communications indicate the platform has been claimed by others. The quest [resolvedQuestName] has expired.</text>
              </li>
              <li Class="QuestNode_End">
                <outcome>Fail</outcome>
              </li>
            </nodes>
          </node>
        </li>

        <li Class="QuestNode_NoWorldObject">
          <worldObject>$site</worldObject>
          <node Class="QuestNode_End" />
        </li>
      </nodes>
    </root>
  </QuestScriptDef>

  <QuestScriptDef>
    <defName>OpportunitySite_OrbitalWreck</defName>
    <randomlySelectable>false</randomlySelectable>
    <givenBy>
      <li>OrbitalScanner</li>
    </givenBy>
    <rootSelectionWeight>1</rootSelectionWeight>
    <isRootSpecial>true</isRootSpecial>
    <autoAccept>true</autoAccept>
    <questAvailableLetterTextIsDescription>true</questAvailableLetterTextIsDescription>
    <questNameRules>
      <rulesStrings>
        <li>questName(p=2)->the ruins of [platAdj] [platform]</li>
        <li>questName->[platAdj] [wreckage]</li>
        <li>questName->[PlaceOutlander] [wreckage]</li>
        <li>questName->[ruined] [platAdj] [platform]</li>

        <li>platAdj->starlight</li>
        <li>platAdj->nebula</li>
        <li>platAdj->horizon</li>
        <li>platAdj->eclipse</li>
        <li>platAdj->zenith</li>
        <li>platAdj->aurora</li>
        <li>platAdj->corona</li>
        <li>platAdj->nova</li>
        <li>platAdj->eon</li>
        <li>platAdj->solace</li>
        <li>platAdj->lumina</li>
        <li>platAdj->ion</li>
        <li>platAdj->astralis</li>

        <li>platAdj->apollo</li>
        <li>platAdj->ares</li>
        <li>platAdj->hades</li>
        <li>platAdj->ajax</li>
        <li>platAdj->eos</li>
        <li>platAdj->eros</li>
        <li>platAdj->chronos</li>
        <li>platAdj->zephyrus</li>
        <li>platAdj->argos</li>
        <li>platAdj->orion</li>
        <li>platAdj->hermes</li>
        <li>platAdj->atlas</li>
        <li>platAdj->helios</li>
        <li>platAdj->hephaestus</li>
        <li>platAdj->talos</li>

        <li>platAdj->vanguard</li>
        <li>platAdj->aegis</li>
        <li>platAdj->halcyon</li>
        <li>platAdj->skyforge</li>
        <li>platAdj->titan</li>

        <li>wreckage(p=2)->wreckage</li>
        <li>wreckage(p=2)->wreck</li>
        <li>wreckage->orbital ruins</li>
        <li>wreckage->debris field</li>

        <li>platform(p=2)->station</li>
        <li>platform->platform</li>
        <li>platform(p=0.5)->skygate</li>
        <li>platform(p=0.5)->spacedock</li>
        <li>platform(p=0.5)->gateway</li>

        <li>ruined->ruined</li>
        <li>ruined->destroyed</li>
        <li>ruined->scuttled</li>
        <li>ruined->lost</li>
        <li>ruined->ravaged</li>

        <li>PlaceOutlander(p=3)->[SylE][place_end]</li>
        <li>PlaceOutlander->[SylE][SylE][place_end]</li>
      </rulesStrings>
      <rulesFiles>
        <li>place_end->WordParts/PlaceEndings</li>
      </rulesFiles>
    </questNameRules>
    <questDescriptionRules>
      <rulesStrings>
        <li>questDescription->[discoveryMethod] the coordinates of a massive piece of wreckage in orbit. It could contain valuable resources. Orbital debris fields are often occupied by hostile scavengers.\n\nYou can travel to orbital locations using gravships, shuttles, or transport pods.</li>
      </rulesStrings>
    </questDescriptionRules>
    <canOccurOnAllPlanetLayers>true</canOccurOnAllPlanetLayers>
    <root Class="QuestNode_Sequence">
      <nodes>
        <li Class="QuestNode_IsSet">
          <name>discoveryMethod</name>
          <elseNode Class="QuestNode_RandomNode">
            <nodes>
              <li Class="QuestNode_Set">
                <name>discoveryMethod</name>
                <value>You have discovered</value>
              </li>
            </nodes>
          </elseNode>
        </li>

        <li Class="QuestNode_SubScript">
          <def>Util_AdjustPointsForDistantFight</def>
        </li>

        <li Class="QuestNode_Root_Site">
          <layerWhitelist>
            <li>Orbit</li>
          </layerWhitelist>
          <canBeSpace>true</canBeSpace>
          <sitePartDef>Opportunity_OrbitalWreck</sitePartDef>
          <worldObjectDef>ClaimableSpaceSite</worldObjectDef>
          <distanceFromColonyRange>1~3</distanceFromColonyRange> <!-- distance is in on the orbital layer tiles -->
        </li>

        <li Class="QuestNode_WorldObjectTimeout">
          <worldObject>$site</worldObject>
          <isQuestTimeout>true</isQuestTimeout>
          <delayTicks>$(randInt(45,60)*60000)</delayTicks>
          <inSignalDisable>site.MapGenerated</inSignalDisable>
          <node Class="QuestNode_Sequence">
            <nodes>
              <li Class="QuestNode_Letter">
                <label TKey="LetterLabelQuestExpired">Quest expired: [resolvedQuestName]</label>
                <text TKey="LetterTextQuestExpired">Intercepted communications indicate the orbital wreck has been claimed by others. The quest [resolvedQuestName] has expired.</text>
              </li>
              <li Class="QuestNode_End">
                <outcome>Fail</outcome>
              </li>
            </nodes>
          </node>
        </li>

        <li Class="QuestNode_NoWorldObject">
          <worldObject>$site</worldObject>
          <node Class="QuestNode_End" />
        </li>
      </nodes>
    </root>
  </QuestScriptDef>

  <QuestScriptDef>
    <defName>OpportunitySite_MechanoidPlatform</defName>
    <randomlySelectable>false</randomlySelectable>
    <givenBy>
      <li>OrbitalScanner</li>
    </givenBy>
    <rootSelectionWeight>0.5</rootSelectionWeight>
    <isRootSpecial>true</isRootSpecial>
    <autoAccept>true</autoAccept>
    <questAvailableLetterTextIsDescription>true</questAvailableLetterTextIsDescription>
    <questNameRules>
      <rulesStrings>
        <li>questName->[platAdj] [platform] [designation]</li>
        <li>questName->[platAdj] [platform]</li>

        <li>platAdj(p=3)->mechanoid</li>
        <li>platAdj(p=3)->[mechanoid]</li>
        <li>platAdj->genesis</li>
        <li>platAdj->synthesis</li>
        <li>platAdj->assembly</li>
        <li>platAdj->formation</li>
        
        <li>platform->platform</li>
        <li>platform->station</li>
        <li>platform->hub</li>

        <li>designation->[RomanNumeral]</li>
        <li>designation->[Letter]-[RomanNumeral]</li>

        <li>mechanoid->scyther</li>
        <li>mechanoid->lancer</li>
        <li>mechanoid->centipede</li>
        <li>mechanoid->cyclops</li>
      </rulesStrings>
    </questNameRules>
    <questDescriptionRules>
      <rulesStrings>
        <li>questDescription->[discoveryMethod] the location of an orbital platform. You detect high levels of mechanoid activity.\n\nYou can scavenge valuables from the platform.\n\nYou can travel to orbital locations using gravships, shuttles, or transport pods.</li>
      </rulesStrings>
    </questDescriptionRules>
    <canOccurOnAllPlanetLayers>true</canOccurOnAllPlanetLayers>
    <root Class="QuestNode_Sequence">
      <nodes>
        <li Class="QuestNode_FactionExists">
          <faction>Insect</faction>
        </li>

        <li Class="QuestNode_IsSet">
          <name>discoveryMethod</name>
          <elseNode Class="QuestNode_RandomNode">
            <nodes>
              <li Class="QuestNode_Set">
                <name>discoveryMethod</name>
                <value>You have discovered</value>
              </li>
            </nodes>
          </elseNode>
        </li>
        
        <li Class="QuestNode_Root_Site">
          <layerWhitelist>
            <li>Orbit</li>
          </layerWhitelist>
          <canBeSpace>true</canBeSpace>
          <sitePartDef>Opportunity_MechanoidPlatform</sitePartDef>
          <worldObjectDef>ClaimableSpaceSite</worldObjectDef>
          <distanceFromColonyRange>1~3</distanceFromColonyRange> <!-- distance is in on the orbital layer tiles -->
        </li>
        
        <li Class="QuestNode_WorldObjectTimeout">
          <worldObject>$site</worldObject>
          <isQuestTimeout>true</isQuestTimeout>
          <delayTicks>$(randInt(45,60)*60000)</delayTicks>
          <inSignalDisable>site.MapGenerated</inSignalDisable>
          <node Class="QuestNode_Sequence">
            <nodes>
              <li Class="QuestNode_Letter">
                <label TKey="LetterLabelQuestExpired">Quest expired: [resolvedQuestName]</label>
                <text TKey="LetterTextQuestExpired">Intercepted communications indicate the platform has been claimed by others. The quest [resolvedQuestName] has expired.</text>
              </li>
              <li Class="QuestNode_End">
                <outcome>Fail</outcome>
              </li>
            </nodes>
          </node>
        </li>
        
        <li Class="QuestNode_NoWorldObject">
          <worldObject>$site</worldObject>
          <node Class="QuestNode_End" />
        </li>
      </nodes>
    </root>
  </QuestScriptDef>
  
  <QuestScriptDef>
    <defName>OpportunitySite_Satellite</defName>
    <randomlySelectable>false</randomlySelectable>
    <givenBy>
      <li>OrbitalScanner</li>
    </givenBy>
    <rootSelectionWeight>1</rootSelectionWeight>
    <isRootSpecial>true</isRootSpecial>
    <autoAccept>true</autoAccept>
    <questAvailableLetterTextIsDescription>true</questAvailableLetterTextIsDescription>
    <questNameRules>
      <rulesStrings>
        <li>questName->[PlaceOutlander] [platform]</li>
        <li>questName->[platAdj] [platform]</li>

        <li>platAdj(p=4)->orbital</li>
        <li>platAdj->observation</li>
        <li>platAdj->network</li>
        <li>platAdj->imperial</li>
        <li>platAdj->solar</li>

        <li>platAdj->starlight</li>
        <li>platAdj->nebula</li>
        <li>platAdj->horizon</li>
        <li>platAdj->eclipse</li>
        <li>platAdj->zenith</li>
        <li>platAdj->aurora</li>
        <li>platAdj->corona</li>
        <li>platAdj->nova</li>
        <li>platAdj->eon</li>
        <li>platAdj->solace</li>
        <li>platAdj->lumina</li>
        <li>platAdj->ion</li>
        <li>platAdj->astralis</li>
        <li>platAdj->echo</li>

        <li>platform(p=4)->satellite</li>
        <li>platform->relay</li>
        <li>platform->ring</li>
        <li>platform->satlink</li>
        <li>platform->sentinel</li>
        <li>platform->prime</li>
        <li>platform->beacon</li>
        <li>platform->bombarder</li>

        <li>PlaceOutlander(p=3)->[SylE][place_end]</li>
        <li>PlaceOutlander->[SylE][SylE][place_end]</li>
      </rulesStrings>
      <rulesFiles>
        <li>place_end->WordParts/PlaceEndings</li>
      </rulesFiles>
    </questNameRules>
    <questDescriptionRules>
      <rulesStrings>
        <li>questDescription->[discoveryMethod] the location of an orbital satellite. These satellites are unmanned and often incapable of supporting life. Satellites serve a wide variety of purposes, from power collection to weapons platforms.\n\nYou can scavenge valuable technology from the satellites but be warned, satellites are heavily guarded by ancient security systems.\n\nYou can travel to orbital locations using gravships, shuttles, or transport pods.</li>
      </rulesStrings>
    </questDescriptionRules>
    <canOccurOnAllPlanetLayers>true</canOccurOnAllPlanetLayers>
    <root Class="QuestNode_Sequence">
      <nodes>
        <li Class="QuestNode_IsSet">
          <name>discoveryMethod</name>
          <elseNode Class="QuestNode_RandomNode">
            <nodes>
              <li Class="QuestNode_Set">
                <name>discoveryMethod</name>
                <value>You have discovered</value>
              </li>
            </nodes>
          </elseNode>
        </li>
        
        <li Class="QuestNode_Root_Site">
          <layerWhitelist>
            <li>Orbit</li>
          </layerWhitelist>
          <canBeSpace>true</canBeSpace>
          <sitePartDef>OpportunitySite_Satellite</sitePartDef>
          <worldObjectDef>ClaimableSpaceSite</worldObjectDef>
          <distanceFromColonyRange>1~3</distanceFromColonyRange> <!-- distance is in on the orbital layer tiles -->
        </li>

        <li Class="QuestNode_WorldObjectTimeout">
          <worldObject>$site</worldObject>
          <isQuestTimeout>true</isQuestTimeout>
          <delayTicks>$(randInt(45,60)*60000)</delayTicks>
          <inSignalDisable>site.MapGenerated</inSignalDisable>
          <node Class="QuestNode_Sequence">
            <nodes>
              <li Class="QuestNode_Letter">
                <label TKey="LetterLabelQuestExpired">Quest expired: [resolvedQuestName]</label>
                <text TKey="LetterTextQuestExpired">Scanner readings indicate the satellite has boosted itself into a higher, unreachable orbit. The quest [resolvedQuestName] has expired.</text>
              </li>
              <li Class="QuestNode_End">
                <outcome>Fail</outcome>
              </li>
            </nodes>
          </node>
        </li>

        <li Class="QuestNode_NoWorldObject">
          <worldObject>$site</worldObject>
          <node Class="QuestNode_End" />
        </li>
      </nodes>
    </root>
  </QuestScriptDef>
  
</Defs>