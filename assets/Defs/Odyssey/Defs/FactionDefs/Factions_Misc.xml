<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <FactionDef Name="TradersGuild" ParentName="FactionBase">
    <defName>TradersGuild</defName>
    <label>traders guild</label>
    <description>A loose coalition of orbital traders. Together they form an orbital marketplace that buys and sells goods from around the planet. Orbital traders will also buy goods from the occasional interplanetary trading vessel, giving them access to rare technologies.\n\nThese merchants are rarely found on the planet itself, preferring to live in the safety of their orbital platforms.</description>
    <colorSpectrum>
      <li>(0.57, 0.47, 0.29)</li>
    </colorSpectrum>
    <maxConfigurableAtWorldCreation>1</maxConfigurableAtWorldCreation>
    <configurationListOrderPriority>80</configurationListOrderPriority>
    <pawnSingular>guild member</pawnSingular>
    <pawnsPlural>guild members</pawnsPlural>
    <leaderTitle>magister of trade</leaderTitle>
    <categoryTag>TradersGuild</categoryTag>
    <settlementGenerationWeight>1</settlementGenerationWeight>
    <requiredCountAtGameStart>1</requiredCountAtGameStart>
    <canSiege>true</canSiege>
    <canStageAttacks>true</canStageAttacks>
    <arrivalLayerWhitelist>
      <li>Surface</li>
      <li>Orbit</li>
    </arrivalLayerWhitelist>
    <neutralArrivalLayerBlacklist>
      <li>Surface</li>
    </neutralArrivalLayerBlacklist>
    <techLevel>Spacer</techLevel>
    <canRequestTraders>false</canRequestTraders>
    <canRequestMilitaryAid>false</canRequestMilitaryAid>
    <canRequestOrbitalTrader>true</canRequestOrbitalTrader>
    <canGenerateQuestSites>false</canGenerateQuestSites>
    <factionIconPath>World/WorldObjects/Expanding/TradersGuild</factionIconPath>
    <factionNameMaker>NamerFactionTradersGuild</factionNameMaker>
    <settlementNameMaker>NamerSettlementTradersGuild</settlementNameMaker>
    <fixedLeaderKinds>
      <li>TradersGuild_Magister</li>
    </fixedLeaderKinds>
    <layerWhitelist>
      <li>Orbit</li>
    </layerWhitelist>
    <allowedCultures>
      <li>Astropolitan</li>
    </allowedCultures>
    <styles>
      <li MayRequire="Ludeon.RimWorld.Ideology">Techist</li>
    </styles>
    <requiredMemes>
      <li>Shipborn</li>
    </requiredMemes>
    <disallowedMemes>
      <li MayRequire="Ludeon.RimWorld.Ideology">Structure_Animist</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Nudism</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Blindsight</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">AnimalPersonhood</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">TreeConnection</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Tunneler</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Darkness</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Rancher</li>
      <li MayRequire="Ludeon.RimWorld.Ideology,Ludeon.RimWorld.Biotech">Bloodfeeding</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Cannibal</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Raider</li>
    </disallowedMemes>
    <structureMemeWeights>
      <Structure_TheistEmbodied MayRequire="Ludeon.RimWorld.Ideology">1</Structure_TheistEmbodied>
      <Structure_TheistAbstract MayRequire="Ludeon.RimWorld.Ideology">2</Structure_TheistAbstract>
      <Structure_Ideological MayRequire="Ludeon.RimWorld.Ideology">1</Structure_Ideological>
      <Structure_Archist MayRequire="Ludeon.RimWorld.Ideology">10</Structure_Archist>
    </structureMemeWeights>
    <xenotypeSet>
      <xenotypeChances>
        <Hussar MayRequire="Ludeon.RimWorld.Biotech">0.05</Hussar>
        <Genie MayRequire="Ludeon.RimWorld.Biotech">0.1</Genie>
        <Starjack MayRequire="Ludeon.RimWorld.Biotech,Ludeon.RimWorld.Odyssey">0.25</Starjack>
      </xenotypeChances>
    </xenotypeSet>
    <arrivalModeWhitelist>
      <li>EdgeDrop</li>
      <li>EdgeDropGroups</li>
      <li>CenterDrop</li>
      <li>RandomDrop</li>
    </arrivalModeWhitelist>
    <backstoryFilters>
      <li>
        <categories>
          <li>Offworld</li>
        </categories>
        <commonality>0.9</commonality>
      </li>
      <li>
        <categories>
          <li>Outlander</li>
        </categories>
        <commonality>0.1</commonality>
      </li>
    </backstoryFilters>
    <caravanTraderKinds />
    <visitorTraderKinds />
    <orbitalTraderKinds>
      <li>Orbital_BulkGoods</li>
      <li>Orbital_CombatSupplier</li>
      <li>Orbital_Exotic</li>
      <li>Orbital_PirateMerchant</li>
    </orbitalTraderKinds>
    <baseTraderKinds />
    <allowedArrivalTemperatureRange>-85~45</allowedArrivalTemperatureRange>
    <raidLootMaker>TradersGuildRaidLootMaker</raidLootMaker>
    <maxPawnCostPerTotalPointsCurve>
      <points>
        <li>(0,35)</li>
        <li>(70, 50)</li>
        <li>(700, 100)</li>
        <li>(1300, 150)</li>
        <li>(100000, 10000)</li>
      </points>
    </maxPawnCostPerTotalPointsCurve>
    <pawnGroupMakers Inherit="False">
      <li>
        <!-- Normal fights, standard mix -->
        <kindDef>Combat</kindDef>
        <options>
          <TradersGuild_Slasher>7</TradersGuild_Slasher>
          <TradersGuild_Gunner>10</TradersGuild_Gunner>
          <TradersGuild_Elite>4</TradersGuild_Elite>
          <TradersGuild_Heavy>4</TradersGuild_Heavy>
        </options>
      </li>
      <li>
        <kindDef>Peaceful</kindDef>
        <options>
          <TradersGuild_Citizen>20</TradersGuild_Citizen>
          <TradersGuild_Child MayRequire="Ludeon.RimWorld.Biotech">10</TradersGuild_Child>
          <TradersGuild_Gunner>10</TradersGuild_Gunner>
        </options>
      </li>
      <li>
        <kindDef>Settlement</kindDef>
        <options>
          <TradersGuild_Citizen>10</TradersGuild_Citizen>
          <TradersGuild_Slasher>7</TradersGuild_Slasher>
          <TradersGuild_Gunner>10</TradersGuild_Gunner>
          <TradersGuild_Elite>10</TradersGuild_Elite>
        </options>
      </li>
    </pawnGroupMakers>
    <settlementTexturePath>World/WorldObjects/DefaultSettlement</settlementTexturePath>
  </FactionDef>
  
  <ThingSetMakerDef>
    <defName>TradersGuildRaidLootMaker</defName>
    <root Class="ThingSetMaker_MarketValue">
      <fixedParams>
        <filter>
          <thingDefs>
            <li>Silver</li>
            <li>MedicineIndustrial</li>
            <li>ComponentIndustrial</li>
            <li>MealSurvivalPack</li>
            <li>Neutroamine</li>
          </thingDefs>
        </filter>
      </fixedParams>
    </root>
  </ThingSetMakerDef>

  <FactionDef ParentName="FactionBase">
    <defName>Salvagers</defName>
    <label>salvagers</label>
    <factionNameMaker>NamerFactionSalvagers</factionNameMaker>
    <description>A ruthless faction of orbital scavengers who scour space for derelict ships and valuable wreckage. Salvagers operate entirely in space.</description>
    <hidden>true</hidden>
    <requiredCountAtGameStart>1</requiredCountAtGameStart>
    <maxConfigurableAtWorldCreation>1</maxConfigurableAtWorldCreation>
    <displayInFactionSelection>false</displayInFactionSelection>
    <hostileToFactionlessHumanlikes>true</hostileToFactionlessHumanlikes>
    <arrivalLayerWhitelist>
      <li>Orbit</li>
    </arrivalLayerWhitelist>
    <colorSpectrum>
      <li>(0.75, 0.5, 0.5)</li>
    </colorSpectrum>
    <pawnSingular>pirate</pawnSingular>
    <pawnsPlural>pirates</pawnsPlural>
    <leaderTitle>boss</leaderTitle>
    <categoryTag>Salvager</categoryTag>
    <configurationListOrderPriority>1000</configurationListOrderPriority>
    <settlementGenerationWeight>1</settlementGenerationWeight>
    <canSiege>true</canSiege>
    <canStageAttacks>true</canStageAttacks>
    <factionIconPath>World/WorldObjects/Expanding/Salvagers</factionIconPath>
    <techLevel>Spacer</techLevel>
    <canRequestTraders>false</canRequestTraders>
    <canRequestOrbitalTrader>false</canRequestOrbitalTrader>
    <canRequestMilitaryAid>false</canRequestMilitaryAid>
    <canGenerateQuestSites>false</canGenerateQuestSites>
    <hiddenIdeo>true</hiddenIdeo>
    <permanentEnemy>true</permanentEnemy>
    <fixedLeaderKinds>
      <li>Salvager_Elite</li>
    </fixedLeaderKinds>
    <layerWhitelist>
      <li>Orbit</li>
    </layerWhitelist>
    <allowedCultures>
      <li>Astropolitan</li>
    </allowedCultures>
    <styles>
      <li MayRequire="Ludeon.RimWorld.Ideology">Techist</li>
    </styles>
    <forcedMemes>
      <li>Shipborn</li>
    </forcedMemes>
    <disallowedMemes>
      <li MayRequire="Ludeon.RimWorld.Ideology">Structure_Animist</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Nudism</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Blindsight</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">AnimalPersonhood</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">TreeConnection</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">Tunneler</li>
    </disallowedMemes>
    <structureMemeWeights>
      <Structure_TheistEmbodied MayRequire="Ludeon.RimWorld.Ideology">1</Structure_TheistEmbodied>
      <Structure_TheistAbstract MayRequire="Ludeon.RimWorld.Ideology">2</Structure_TheistAbstract>
      <Structure_Ideological MayRequire="Ludeon.RimWorld.Ideology">1</Structure_Ideological>
      <Structure_Archist MayRequire="Ludeon.RimWorld.Ideology">10</Structure_Archist>
    </structureMemeWeights>
    <xenotypeSet>
      <xenotypeChances>
        <Hussar MayRequire="Ludeon.RimWorld.Biotech">0.05</Hussar>
        <Genie MayRequire="Ludeon.RimWorld.Biotech">0.1</Genie>
        <Starjack MayRequire="Ludeon.RimWorld.Biotech,Ludeon.RimWorld.Odyssey">0.1</Starjack>
      </xenotypeChances>
    </xenotypeSet>
    <backstoryFilters>
      <li>
        <categories>
          <li>Offworld</li>
        </categories>
        <commonality>0.9</commonality>
      </li>
      <li>
        <categories>
          <li>Outlander</li>
        </categories>
        <commonality>0.1</commonality>
      </li>
    </backstoryFilters>
    <caravanTraderKinds />
    <visitorTraderKinds />
    <orbitalTraderKinds />
    <baseTraderKinds />
    <allowedArrivalTemperatureRange>-85~45</allowedArrivalTemperatureRange>
    <raidLootMaker>TradersGuildRaidLootMaker</raidLootMaker>
    <maxPawnCostPerTotalPointsCurve>
      <points>
        <li>(0,35)</li>
        <li>(70, 50)</li>
        <li>(700, 100)</li>
        <li>(1300, 150)</li>
        <li>(100000, 10000)</li>
      </points>
    </maxPawnCostPerTotalPointsCurve>
    <raidCommonalityFromPointsCurve>
      <points>
        <li>(0, 1)</li> <!--Constant 1 at all points levels-->
      </points>
    </raidCommonalityFromPointsCurve>
    <arrivalModeWhitelist>
      <li>EdgeDrop</li>
      <li>EdgeDropGroups</li>
      <li>CenterDrop</li>
      <li>RandomDrop</li>
    </arrivalModeWhitelist>
    <pawnGroupMakers Inherit="False">
      <li>
        <!-- Normal fights, standard mix -->
        <kindDef>Combat</kindDef>
        <options>
          <Salvager_Pirate>20</Salvager_Pirate>
          <Salvager_Scrapper>5</Salvager_Scrapper>
          <Salvager_Elite>1</Salvager_Elite>
        </options>
      </li>
      <li>
        <kindDef>Peaceful</kindDef>
        <options>
          <Salvager_Pirate>10</Salvager_Pirate>
      </options>
      </li>
      <li>
        <kindDef>Settlement</kindDef>
        <options>
          <Salvager_Pirate>10</Salvager_Pirate>
        </options>
      </li>
    </pawnGroupMakers>
    <settlementTexturePath>World/WorldObjects/DefaultSettlement</settlementTexturePath>
  </FactionDef>

</Defs>