<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef ParentName="BuildingBase">
    <defName>InsectLairEntrance</defName>
    <label>cave entrance</label>
    <description>The entrance to a cave network. It is possible to climb down into the caves below.</description>
    <size>(6,6)</size>
    <useHitPoints>false</useHitPoints>
    <thingClass>InsectLairEntrance</thingClass>
    <rotatable>false</rotatable>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <canOverlapZones>false</canOverlapZones>
    <graphicData>
      <graphicClass>Graphic_Single</graphicClass>
      <texPath>Things/Building/CaveEntranceA</texPath>
      <drawSize>(6,6)</drawSize>
    </graphicData>
    <altitudeLayer>FloorEmplacement</altitudeLayer>
    <fillPercent>0</fillPercent>
    <passability>Impassable</passability>
    <holdsRoof>true</holdsRoof>
    <destroyable>false</destroyable>
    <building>
      <isEdifice>true</isEdifice>
      <deconstructible>false</deconstructible>
      <isTargetable>false</isTargetable>
      <isInert>true</isInert>
      <claimable>false</claimable>
      <expandHomeArea>false</expandHomeArea>
    </building>
    <portal>
      <pocketMapGenerator>InsectLair</pocketMapGenerator>
      <exitDef>CaveExit</exitDef>
    </portal>
    <statBases>
      <Flammability>0</Flammability>
    </statBases>
    <inspectorTabs>
      <li>ITab_ContentsMapPortal</li>
    </inspectorTabs>
  </ThingDef>

  <ThingDef ParentName="BuildingNaturalBase">
    <defName>GeothermalVent</defName>
    <label>sulfur spout</label>
    <description>A naturally-occurring break in the ground from which volcanic gases escape. These vents bring nutrients to the surface from deep underground. Collectively, the fumes they spew are enough to block out the sun.</description>
    <thingClass>Building_GeothermalVent</thingClass>
    <graphicData>
      <texPath>Things/Building/GeothermalVent</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(5,5)</drawSize>
    </graphicData>
    <comps>
      <li Class="CompProperties_HeatPusher">
        <heatPerSecond>120</heatPerSecond>
      </li>
      <li Class="CompProperties_FleckEmitterLongTerm">
        <fleckDef>SulfurCloud</fleckDef>
        <spawnRadius>0.2</spawnRadius>
        <spawnChance>0.05</spawnChance>
        <spawnOffsetFromCenter>(0.5,0.0,0.5)</spawnOffsetFromCenter>
        <prewarmCycles>1.0</prewarmCycles>
        <fleckScale>4.0</fleckScale>
        <minRotationRate>-10.0</minRotationRate>
        <maxRotationRate>10.0</maxRotationRate>
        <minVelocityAngle>-20.0</minVelocityAngle>
        <maxVelocityAngle>20.0</maxVelocityAngle>
        <minVelocitySpeed>0.5</minVelocitySpeed>
        <maxVelocitySpeed>0.7</maxVelocitySpeed>
        <forceEnabled>true</forceEnabled>
      </li>
    </comps>
    <uiIconScale>0.5</uiIconScale>
    <altitudeLayer>Floor</altitudeLayer>
    <rotatable>false</rotatable>
    <destroyable>false</destroyable>
    <useHitPoints>false</useHitPoints>
    <tickerType>Normal</tickerType>
    <selectable>true</selectable>
    <size>(5,5)</size>
    <neverOverlapFloors>true</neverOverlapFloors>
    <blockPlants>true</blockPlants>
    <building>
      <isEdifice>true</isEdifice>
      <canBuildNonEdificesUnder>false</canBuildNonEdificesUnder>
      <deconstructible>false</deconstructible>
      <repairable>false</repairable>
      <isTargetable>false</isTargetable>
      <isInert>true</isInert>
      <claimable>false</claimable>
      <expandHomeArea>false</expandHomeArea>
    </building>
  </ThingDef>
  
  <ThingDef ParentName="BuildingBase">
    <defName>BurrowWall</defName>
    <label>burrow wall</label>
    <description>A compact mix of dirt, rock, and insect secretion.</description>
    <uiIconPath>Things/Building/Linked/BurrowWall_MenuIcon</uiIconPath>
    <filthLeaving>Filth_Slime</filthLeaving>
    <graphicData>
      <texPath>Things/Building/Linked/BurrowWall_Atlas</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <linkType>CornerFiller</linkType>
      <linkFlags Inherit="false">
        <li>BurrowWall</li>
      </linkFlags>
    </graphicData>
    <statBases>
      <MaxHitPoints>60</MaxHitPoints>
      <Flammability>0.4</Flammability>
      <Beauty>-3</Beauty>
    </statBases>
    <building>
      <isNaturalRock>false</isNaturalRock>
      <claimable>false</claimable>
      <isInert>true</isInert>
      <canBuildNonEdificesUnder>false</canBuildNonEdificesUnder>
      <deconstructible>false</deconstructible>
      <supportsWallAttachments>true</supportsWallAttachments>
      <isTargetable>true</isTargetable>
      <quickTargetable>true</quickTargetable>
      <destroyShakeAmount>0</destroyShakeAmount>
      <artificialForMeditationPurposes>false</artificialForMeditationPurposes>
      <destroySound>BurrowWall_Destroyed</destroySound>
      <repairable>false</repairable>
    </building>
    <soundImpactDefault>BurrowWall_Damaged</soundImpactDefault>
    <altitudeLayer>Building</altitudeLayer>
    <passability>Impassable</passability>
    <blockWind>true</blockWind>
    <castEdgeShadows>true</castEdgeShadows>
    <fillPercent>1</fillPercent>
    <coversFloor>false </coversFloor>
    <neverMultiSelect>true</neverMultiSelect>
    <rotatable>false</rotatable>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <saveCompressible>false</saveCompressible>
    <holdsRoof>true</holdsRoof>
    <staticSunShadowHeight>1.0</staticSunShadowHeight>
    <blockLight>true</blockLight>
    <mineable>false</mineable>
    <autoTargetNearbyIdenticalThings>true</autoTargetNearbyIdenticalThings>
    <comps>
      <li Class="CompProperties_CascadeOnDestroyed"/>
    </comps>
  </ThingDef>

  <ThingDef Name="BaseAncientVentThing" Abstract="True" ParentName="BuildingNaturalBase">
    <label>ancient vent</label>    
    <thingClass>Building_AncientVent</thingClass>
    <uiIconScale>0.5</uiIconScale>
    <rotatable>false</rotatable>
    <destroyable>false</destroyable>
    <useHitPoints>false</useHitPoints>
    <tickerType>Normal</tickerType>
    <selectable>true</selectable>
    <size>(7,7)</size>
    <neverOverlapFloors>false</neverOverlapFloors>
    <altitudeLayer>Floor</altitudeLayer>
    <blockPlants>true</blockPlants>
    <building>
      <isEdifice>true</isEdifice>
      <canBuildNonEdificesUnder>false</canBuildNonEdificesUnder>
      <deconstructible>false</deconstructible>
      <repairable>false</repairable>
      <isTargetable>false</isTargetable>
      <isInert>true</isInert>
      <claimable>false</claimable>
      <expandHomeArea>false</expandHomeArea>
    </building>
  </ThingDef>
  
  <ThingDef ParentName="BaseAncientVentThing">
    <defName>AncientSmokeVent</defName>
    <label>ancient smoke vent</label>
    <description>The exhaust vent of some long forgotten underground megastructure. It periodically vents a large amount of smoke, blocking the sun for days at a time.</description>
    <graphicData>
      <texPath>Things/Building/AncientSmokeVent</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(7,7)</drawSize>
    </graphicData>
    <comps>
      <li Class="CompProperties_AncientVentEmitter">
        <compClass>CompAncientSmokeVent</compClass>
        <conditionToCause>DarkenedSkies</conditionToCause>
        <onDurationMtbDays>3</onDurationMtbDays> <!-- Low so that the vents don't often kill all plants -->
        <offDurationMtbDays>4</offDurationMtbDays>
        <heatToPush>40</heatToPush>  <!-- Matches steam vents -->
        <startupMessageKey>AncientSmokeVentStartUp</startupMessageKey>
        <shutdownMessageKey>AncientSmokeVentShutdown</shutdownMessageKey>
        <activeInspectStringKey>AncientSmokeVentActive</activeInspectStringKey>
        <activeSound>AncientVent_Ambient</activeSound>
      </li>
      <li Class="CompProperties_FleckEmitterLongTerm">
        <fleckDef>AncientSmoke</fleckDef>
        <spawnRadius>2.0</spawnRadius>
        <spawnChance>0.05</spawnChance>
        <spawnOffsetFromCenter>(0.5,0.0,-0.5)</spawnOffsetFromCenter>
        <prewarmCycles>1.0</prewarmCycles>
        <fleckScale>4.0</fleckScale>
        <minRotationRate>-20.0</minRotationRate>
        <maxRotationRate>20.0</maxRotationRate>
        <minVelocityAngle>-20.0</minVelocityAngle>
        <maxVelocityAngle>20.0</maxVelocityAngle>
        <minVelocitySpeed>0.5</minVelocitySpeed>
        <maxVelocitySpeed>0.7</maxVelocitySpeed>
      </li>
    </comps>
  </ThingDef>
  
  <ThingDef ParentName="BaseAncientVentThing">
    <defName>AncientToxVent</defName>
    <label>ancient toxic vent</label>
    <description>A massive duct that vents toxic fumes from an underground megastructure. It will regularly cause toxic fallout in the area.</description>
    <graphicData>
      <texPath>Things/Building/AncientToxVent</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(7,7)</drawSize>
    </graphicData>
    <comps>
      <li Class="CompProperties_AncientVentEmitter">
        <compClass>CompAncientToxVent</compClass>
        <conditionToCause>ToxicFallout</conditionToCause>
        <onDurationMtbDays>12</onDurationMtbDays>
        <offDurationMtbDays>4</offDurationMtbDays>
        <heatToPush>40</heatToPush>  <!-- Matches steam vents -->
        <startupMessageKey>AncientToxVentStartUp</startupMessageKey>
        <shutdownMessageKey>AncientToxVentShutdown</shutdownMessageKey>
        <activeInspectStringKey>AncientToxVentActive</activeInspectStringKey>
        <activeSound>AncientVent_Ambient</activeSound>
      </li>
      <li Class="CompProperties_FleckEmitterLongTerm">
        <fleckDef>AncientToxicCloud</fleckDef>
        <spawnRadius>1.5</spawnRadius>
        <spawnChance>0.05</spawnChance>
        <spawnOffsetFromCenter>(0.0,0.0,0.0)</spawnOffsetFromCenter>
        <prewarmCycles>1.0</prewarmCycles>
        <fleckScale>2.0</fleckScale>
        <minRotationRate>-20.0</minRotationRate>
        <maxRotationRate>20.0</maxRotationRate>
        <minVelocityAngle>-20.0</minVelocityAngle>
        <maxVelocityAngle>20.0</maxVelocityAngle>
        <minVelocitySpeed>0.0</minVelocitySpeed>
        <maxVelocitySpeed>0.1</maxVelocitySpeed>
      </li>
    </comps>
  </ThingDef>
  
  <ThingDef ParentName="BaseAncientVentThing">
    <defName>AncientHeatVent</defName>
    <label>ancient heat vent</label>
    <description>A massive duct that drops endlessly into the ground. It will regularly vent heat from an underground megastructure, dramatically raising the temperature of the surrounding area.</description>
    <drawerType>RealtimeOnly</drawerType>
    <graphicData>
      <texPath>Things/Building/AncientHeatVent</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>CutoutComplex</shaderType>
      <drawSize>(7,7)</drawSize>
    </graphicData>
    <comps>
      <li Class="CompProperties_AncientHeatVent">
        <compClass>CompAncientHeatVent</compClass>
        <pulseSpeed>0.5</pulseSpeed>
        <rampUpTime>5.0</rampUpTime>
        <rampDownTime>20.0</rampDownTime>
        <conditionToCause>HeatVentHeat</conditionToCause>
        <onDurationMtbDays>12</onDurationMtbDays>
        <offDurationMtbDays>4</offDurationMtbDays>
        <heatToPush>200</heatToPush> <!-- 5x steam vents -->
        <startupMessageKey>AncientHeatVentStartUp</startupMessageKey>
        <shutdownMessageKey>AncientHeatVentShutdown</shutdownMessageKey>
        <activeInspectStringKey>AncientHeatVentActive</activeInspectStringKey>
        <activeSound>AncientVent_Ambient</activeSound>
      </li>
    </comps>
  </ThingDef>

  <ThingDef Abstract="True" Name="AncientEmergencyLightBase" ParentName="NonBuildableLampBase">
    <description>An ancient light containing a long-lasting battery.</description>
    <rotatable>true</rotatable>
    <graphicData>
      <texPath>Things/Building/Ancient/EmergencyLight/AncientEmergencyLight</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawOffsetNorth>(0,0,0.9)</drawOffsetNorth>
      <drawOffsetSouth>(0,0,-0.9)</drawOffsetSouth>
      <drawOffsetWest>(-0.9,0,0)</drawOffsetWest>
      <drawOffsetEast>(0.9,0,0)</drawOffsetEast>
      <damageData>
        <enabled>false</enabled>
      </damageData>
    </graphicData>
    <altitudeLayer>BuildingOnTop</altitudeLayer>
    <statBases>
      <MaxHitPoints>35</MaxHitPoints>
      <Mass>2</Mass>
    </statBases>
    <passability>Standable</passability>
    <terrainAffordanceNeeded IsNull="True" />
    <pathCost>0</pathCost>
    <overrideMinifiedRot>North</overrideMinifiedRot>
    <minifiedDrawOffset>(0, 0, 0.2)</minifiedDrawOffset>
    <building>
      <isEdifice>false</isEdifice>
      <isAttachment>true</isAttachment>
      <claimable>false</claimable>
    </building>
    <placeWorkers>
      <li>Placeworker_AttachedToWall</li>
    </placeWorkers>
  </ThingDef>
  
  <ThingDef ParentName="AncientEmergencyLightBase">
    <label>ancient emergency light</label>
    <defName>AncientEmergencyLight_Red</defName>
    <comps>
      <li Class="CompProperties_Glower">
        <glowRadius>11</glowRadius>
        <glowColor>(224, 54, 54, 0)</glowColor>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="AncientEmergencyLightBase">
    <label>ancient light</label>
    <defName>AncientEmergencyLight_Blue</defName>
    <comps>
      <li Class="CompProperties_Glower">
        <glowRadius>11</glowRadius>
        <glowColor>(187, 187, 221, 0)</glowColor>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="AncientEmergencyLightBase">
    <label>mechanoid light</label>
    <description>A light used in mechanoid facilities. The green hue is optimal for mechanoid optical arrays.</description>
    <defName>AncientEmergencyLight_Green</defName>
    <comps>
      <li Class="CompProperties_Glower">
        <glowRadius>11</glowRadius>
        <glowColor>(216, 219, 67, 0)</glowColor>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="BuildingBase">
    <defName>LifeSupportUnit</defName>
    <label>life support unit</label>
    <noRightClickDraftAttack>true</noRightClickDraftAttack>
    <description>A unit connected to the orbital platform's larger life support network. It keeps rooms heated and pressurized.</description>
    <thingClass>Building_LifeSupportUnit</thingClass>
    <tickerType>Rare</tickerType>
    <rotatable>true</rotatable>
    <uiIconPath>Things/Building/LifesupportUnit/LifesupportUnit_MenuIcon</uiIconPath>
    <graphicData>
      <texPath>Things/Building/LifesupportUnit/LifesupportUnit</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawOffsetNorth>(0,0,0.9)</drawOffsetNorth>
      <drawOffsetSouth>(0,0,-0.9)</drawOffsetSouth>
      <drawOffsetWest>(-0.9,0,0)</drawOffsetWest>
      <drawOffsetEast>(0.9,0,0)</drawOffsetEast>
      <damageData>
        <enabled>false</enabled>
      </damageData>
    </graphicData>
    <altitudeLayer>BuildingOnTop</altitudeLayer>
    <statBases>
      <MarketValue>200</MarketValue>
      <MaxHitPoints>35</MaxHitPoints>
      <Mass>3</Mass>
    </statBases>
    <passability>Standable</passability>
    <terrainAffordanceNeeded IsNull="True" />
    <pathCost>0</pathCost>
    <overrideMinifiedRot>North</overrideMinifiedRot>
    <minifiedDrawOffset>(0, 0, 0.2)</minifiedDrawOffset>
    <building>
      <isEdifice>false</isEdifice>
      <claimable>false</claimable>
      <isAttachment>true</isAttachment>
      <deconstructible>false</deconstructible>
      <expandHomeArea>false</expandHomeArea>
    </building>
    <placeWorkers>
      <li>Placeworker_AttachedToWall</li>
    </placeWorkers>
    <comps>
      <li Class="CompProperties_Power">
        <compClass>CompPowerPlant</compClass>
        <basePowerConsumption>-3200</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
      <li Class="CompProperties_AmbientSound">
        <sound>OxygenPump_Ambient</sound>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="RockBase">
    <defName>MineableObsidian</defName>
    <label>obsidian</label>
    <description>Volcanic rock formed by rapidly cooling lava. It can be mined for obsidian glass.</description>
    <graphicData>
      <texPath>Things/Building/Linked/RockFlecked_Atlas</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>CutoutComplex</shaderType>
      <color>(65,60,60)</color>
      <colorTwo>(45,45,45)</colorTwo>
    </graphicData>
    <statBases>
      <MaxHitPoints>1200</MaxHitPoints>
    </statBases>
    <building>
      <isResourceRock>true</isResourceRock>
      <mineableThing>Obsidian</mineableThing>
      <mineableYield>40</mineableYield>
      <veinMineable>true</veinMineable>
      <mineablePreventMeteorite>true</mineablePreventMeteorite>
    </building>
  </ThingDef>
  
</Defs>