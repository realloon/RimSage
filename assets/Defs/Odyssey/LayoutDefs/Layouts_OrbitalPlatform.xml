<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  
  <StructureStructureLayoutDef Name="OrbitalPlatformBase" Abstract="True">
    <workerClass>LayoutWorker_OrbitalPlatform</workerClass>
    <canHaveMultipleLayoutsInRoom>true</canHaveMultipleLayoutsInRoom>
    <corridorShapes>AsymmetricCross, H, Cross, T</corridorShapes>
    <terrainDef>OrbitalPlatform</terrainDef>
    <defaultAffordanceTerrainDef>OrbitalPlatform</defaultAffordanceTerrainDef>
    <doorStuffDef>Steel</doorStuffDef>
    <wallDef>OrbitalAncientFortifiedWall</wallDef>
    <exteriorDoorDef>AncientBlastDoor</exteriorDoorDef>
    <roomToExteriorDoorRatio>0.15</roomToExteriorDoorRatio>
    <surroundingScatterRange>2~6</surroundingScatterRange>
    <surroundingTerrainDef>OrbitalPlatform</surroundingTerrainDef>
  </StructureStructureLayoutDef>
  
  <StructureLayoutDef Name="OrbitalAncientPlatformBase" ParentName="OrbitalPlatformBase" Abstract="True">
    <roomToExteriorDoorRatio>0</roomToExteriorDoorRatio>
    <wallLampDef>AncientEmergencyLight_Blue</wallLampDef>
    <terrainDef>OrbitalPlatform</terrainDef>
    <canConnectRoomsExternally>false</canConnectRoomsExternally> <!-- corridor contains entry doors -->
    <corridorDef>AncientOrbitalCorridor</corridorDef>
  </StructureLayoutDef>
  
  <StructureLayoutDef Name="OrbitalMechanoidPlatformBase" ParentName="OrbitalPlatformBase" Abstract="True">
    <terrainDef>MechanoidPlatform</terrainDef>
    <surroundingTerrainDef>MechanoidPlatform</surroundingTerrainDef>
    <defaultAffordanceTerrainDef>MechanoidPlatform</defaultAffordanceTerrainDef>
    <wallLampDef>AncientEmergencyLight_Green</wallLampDef>
    <junkScaterrers>
      <Filth_BlastMark>
        <groupsPerHundredCells>-2~1</groupsPerHundredCells> <!-- ~66% to not appear -->
        <itemsPerGroup>1~1</itemsPerGroup>
      </Filth_BlastMark>
      <Filth_MachineBits>
        <groupsPerHundredCells>-1~1</groupsPerHundredCells> <!-- ~50% to not appear -->
        <itemsPerGroup>2~4</itemsPerGroup>
        <groupDistRange>2~4</groupDistRange>
      </Filth_MachineBits>
      <Filth_OilSmear>
        <groupsPerHundredCells>0~3</groupsPerHundredCells>
        <itemsPerGroup>2~4</itemsPerGroup>
        <groupDistRange>3~5</groupDistRange>
      </Filth_OilSmear>
      <ChunkMechanoidSlag>
        <groupsPerHundredCells>1~2</groupsPerHundredCells>
        <itemsPerGroup>2~4</itemsPerGroup>
        <groupDistRange>5~6</groupDistRange>
      </ChunkMechanoidSlag>
    </junkScaterrers>
  </StructureLayoutDef>
  
  <StructureLayoutDef ParentName="OrbitalAncientPlatformBase">
    <defName>OrbitalAncientPlatform</defName>
    
    <!-- Structure -->
    <importantRoomDef>AncientEngineRoom</importantRoomDef>
    <corridorDef>AncientOrbitalCorridorDefense</corridorDef>
    
    <wallAttachments>
      <LifeSupportUnit>
        <countRange>1~1</countRange>
      </LifeSupportUnit>
    </wallAttachments>
    <roomDefs>
      <!-- Special -->
      <AncientCryptosleepRoom_Hostile>
        <countRange>1~2</countRange>
      </AncientCryptosleepRoom_Hostile>
      <RecRoom>
        <countRange>1~1</countRange>
      </RecRoom>
      <OrbitalNursery MayRequire="Ludeon.RimWorld.Biotech">
        <countRange>1~1</countRange>
      </OrbitalNursery>
      <OrbitalStoreroom_GravshipUpgrade>
        <countRange>1~1</countRange>
      </OrbitalStoreroom_GravshipUpgrade>
      
      <!-- Decorative -->
      <OrbitalTransportRoom>1</OrbitalTransportRoom>
      <OrbitalHydroponics>1</OrbitalHydroponics>
      <OrbitalDiningRoom>1</OrbitalDiningRoom>
      <OrbitalBarracks>1</OrbitalBarracks>
      <NarrowHalls>1</NarrowHalls>
      
      <!-- Threats -->
      <OrbitalStoreroom>2</OrbitalStoreroom>
      <OrbitalComputerRoom>1</OrbitalComputerRoom>
    </roomDefs>
    <parts>
      <Breached>0.25</Breached>
      <Gore>0.25</Gore>
    </parts>
  </StructureLayoutDef>

  <StructureLayoutDef ParentName="OrbitalMechanoidPlatformBase">
    <defName>OrbitalMechanoidPlatform</defName>
    
    <!-- Structure -->
    <importantRoomDef>MechanoidEngineRoom</importantRoomDef>
    
    <roomDefs>
      <!-- Special -->
      <MechChargingRoom>
        <countRange>1</countRange>
      </MechChargingRoom>
      <LaunchPad>
        <countRange>1</countRange>
      </LaunchPad>
      <MechGravlitePanelRoom>
        <countRange>1</countRange>
      </MechGravlitePanelRoom>

      <!-- Decorative -->
      <NarrowHalls>2.75</NarrowHalls>
      <InnerCourtyard>0.5</InnerCourtyard>
      <InnerCourtyardRooms>
        <countRange>5</countRange>
      </InnerCourtyardRooms>
      <MechStorageRoom>0.5</MechStorageRoom>

      <!-- Threats -->
      <MechGloomlightRoom>0.25</MechGloomlightRoom>
      <MechGestationRoom>1</MechGestationRoom>
      <MechProcessorRoom>1</MechProcessorRoom>
    </roomDefs>
  </StructureLayoutDef>

  <StructureLayoutDef ParentName="OrbitalMechanoidPlatformBase">
    <defName>Opportunity_OrbitalMechanoidPlatform</defName>
    <roomDefs>
      <!-- Special -->
      <MechChargingRoom>
        <countRange>1~2</countRange>
      </MechChargingRoom>
      <LaunchPad>
        <countRange>1~1</countRange>
      </LaunchPad>
      <MechLootRoom>
        <countRange>1~1</countRange>
      </MechLootRoom>

      <!-- Decorative -->
      <NarrowHalls>2.75</NarrowHalls>
      <InnerCourtyard>0.5</InnerCourtyard>
      <InnerCourtyardRooms>0.75</InnerCourtyardRooms>
      <MechStorageRoom>0.5</MechStorageRoom>

      <!-- Threats -->
      <MechGloomlightRoom>1</MechGloomlightRoom>
      <MechGestationRoom>1</MechGestationRoom>
      <MechProcessorRoom>1</MechProcessorRoom>
    </roomDefs>
  </StructureLayoutDef>

  <StructureLayoutDef ParentName="OrbitalAncientPlatformBase">
    <defName>OrbitalSettlementPlatform</defName>
    
    <!-- Structure -->
    <clearDoorFaction>false</clearDoorFaction>
    <ensureOneDoorUnlocked>true</ensureOneDoorUnlocked>
    
    <wallAttachments>
      <LifeSupportUnit>
        <countRange>1~1</countRange>
      </LifeSupportUnit>
    </wallAttachments>
    <roomDefs>
      <!-- Special -->
      <AncientCryptosleepRoom_Hostile>
        <countRange>1~2</countRange>
      </AncientCryptosleepRoom_Hostile>
      <RecRoom>
        <countRange>1~1</countRange>
      </RecRoom>
      <OrbitalNursery MayRequire="Ludeon.RimWorld.Biotech">
        <countRange>1~1</countRange>
      </OrbitalNursery>

      <!-- Decorative -->
      <OrbitalTransportRoom>1</OrbitalTransportRoom>
      <OrbitalHydroponics>1</OrbitalHydroponics>
      <OrbitalDiningRoom>1</OrbitalDiningRoom>
      <OrbitalBarracks>1</OrbitalBarracks>
      <NarrowHalls>1</NarrowHalls>

      <!-- Threats -->
      <OrbitalStoreroom>2</OrbitalStoreroom>
      <OrbitalComputerRoom>1</OrbitalComputerRoom>
  
  </roomDefs>
  </StructureLayoutDef>

  <StructureLayoutDef ParentName="AbandonedPlatformBase">
    <defName>Opportunity_AbandonedPlatform_Enterable</defName>
    <ensureOneDoorUnlocked>true</ensureOneDoorUnlocked>
  </StructureLayoutDef>

  <StructureLayoutDef ParentName="OrbitalAncientPlatformBase" Name="AbandonedPlatformBase">
    <defName>Opportunity_AbandonedPlatform</defName>
    <corridorDef>AncientOrbitalCorridorDefense</corridorDef>
    <wallAttachments>
      <LifeSupportUnit>
        <countRange>1~1</countRange>
      </LifeSupportUnit>
    </wallAttachments>
    <roomDefs>
      <!-- Special -->
      <AncientCryptosleepRoom_Hostile>
        <countRange>1~2</countRange>
      </AncientCryptosleepRoom_Hostile>
      <RecRoom>
        <countRange>1~1</countRange>
      </RecRoom>
      <OrbitalNursery MayRequire="Ludeon.RimWorld.Biotech">
        <countRange>1~1</countRange>
      </OrbitalNursery>
      <OrbitalStoreroom_Loot>
        <countRange>1~1</countRange>
      </OrbitalStoreroom_Loot>

      <!-- Decorative -->
      <OrbitalTransportRoom>1</OrbitalTransportRoom>
      <OrbitalHydroponics>1</OrbitalHydroponics>
      <OrbitalDiningRoom>1</OrbitalDiningRoom>
      <OrbitalBarracks>1</OrbitalBarracks>
      <NarrowHalls>1</NarrowHalls>

      <!-- Threats -->
      <OrbitalStoreroom>2</OrbitalStoreroom>
      <OrbitalComputerRoom>1</OrbitalComputerRoom>
      <OrbitalStoreroom_GravshipUpgrade>0.1</OrbitalStoreroom_GravshipUpgrade>
      
    </roomDefs>
    <parts>
      <Breached>0.25</Breached>
      <Gore>0.25</Gore>
    </parts>
  </StructureLayoutDef>

  <StructureLayoutDef ParentName="OrbitalPlatformBase">
    <defName>OpportunitySite_Satellite</defName>
    
    <!-- Structure -->
    <wallLampDef>AncientEmergencyLight_Red</wallLampDef>
    
    <surroundingTerrainDef IsNull="True" />
    <junkScaterrers>
      <ChunkSlagSteel>
        <groupsPerHundredCells>-2~1</groupsPerHundredCells><!-- ~66% to not appear -->
        <itemsPerGroup>1~1</itemsPerGroup>
      </ChunkSlagSteel>
      <Filth_MachineBits>
        <groupsPerHundredCells>0~3</groupsPerHundredCells>
        <itemsPerGroup>2~4</itemsPerGroup>
        <groupDistRange>2~4</groupDistRange>
      </Filth_MachineBits>
      <Filth_OilSmear>
        <groupsPerHundredCells>0~3</groupsPerHundredCells>
        <itemsPerGroup>2~4</itemsPerGroup>
        <groupDistRange>3~5</groupDistRange>
      </Filth_OilSmear>
      <RubblePile>
        <groupsPerHundredCells>1~2</groupsPerHundredCells>
        <itemsPerGroup>2~4</itemsPerGroup>
        <groupDistRange>5~6</groupDistRange>
      </RubblePile>
    </junkScaterrers>
    <roomDefs>
      <!-- Special -->
      <AncientSatelliteLootRoom>
        <countRange>1~1</countRange>
      </AncientSatelliteLootRoom>
      <AncientSatelliteSecondaryLootRoom>
        <countRange>1~1</countRange>
      </AncientSatelliteSecondaryLootRoom>
      <AncientSatelliteVentRoom>
        <countRange>0~2</countRange>
      </AncientSatelliteVentRoom>

      <!-- Decorative -->
      <AncientSatelliteMachineRoom>1</AncientSatelliteMachineRoom>
      <InnerCourtyard>0.3</InnerCourtyard>

      <!-- Threats -->
      <AncientSatelliteSystemRoom>0.75</AncientSatelliteSystemRoom>
      <AncientSatelliteEquipmentBlockRoom>0.75</AncientSatelliteEquipmentBlockRoom>
    </roomDefs>
  </StructureLayoutDef>

  <StructureLayoutDef>
    <defName>Opportunity_OrbitalWreck</defName>
    <workerClass>LayoutWorker_AncientRuins</workerClass>
    <shouldDamage>true</shouldDamage>
    <canHaveMultipleLayoutsInRoom>true</canHaveMultipleLayoutsInRoom>
    <minRoomWidth>7</minRoomWidth>
    <minRoomHeight>8</minRoomHeight>
    
    <!-- Structure -->
    <wallDef>OrbitalAncientFortifiedWall</wallDef>
    <exteriorDoorDef>AncientBlastDoor</exteriorDoorDef>
    <roomToExteriorDoorRatio>0.05</roomToExteriorDoorRatio>
    <corridorDef>AncientRuinsShelfedCorridor</corridorDef>
    <doorStuffDef>Steel</doorStuffDef>
    
    <roomDefs>

      <!-- Decorative -->
      <OrbitalWreckRubble>0.5</OrbitalWreckRubble>
      <OrbitalRuinsStoreroom>1.5</OrbitalRuinsStoreroom>
      <OrbitalRuinsDestroyedFloor>1.75</OrbitalRuinsDestroyedFloor>
      <OrbitalRuinsShelves>2</OrbitalRuinsShelves>
      <OrbitalRuinsComputerRoom>0.2</OrbitalRuinsComputerRoom>
      <OrbitalTransportRoom>1</OrbitalTransportRoom>
      <AncientLivingArea>0.25</AncientLivingArea>
      
      <!-- Loot -->
      <OrbitalRuinsSteelRoom>0.5</OrbitalRuinsSteelRoom>
      <OrbitalRuinsAdvancedComponentRoom>0.5</OrbitalRuinsAdvancedComponentRoom>
      <OrbitalRuinsLootroom>0.15</OrbitalRuinsLootroom>
      <OrbitalRuinsHermeticCrate>
        <countRange>0~1</countRange>
      </OrbitalRuinsHermeticCrate>
      
    </roomDefs>
    <junkScaterrers>
      <RubblePile>
        <groupsPerHundredCells>1~3</groupsPerHundredCells>
        <itemsPerGroup>2~4</itemsPerGroup>
        <groupDistRange>3~5</groupDistRange>
      </RubblePile>
      <Filth_RubbleRock>
        <groupsPerHundredCells>1~3</groupsPerHundredCells>
        <itemsPerGroup>3~8</itemsPerGroup>
        <groupDistRange>3~5</groupDistRange>
      </Filth_RubbleRock>
    </junkScaterrers>
  </StructureLayoutDef>
  
</Defs>