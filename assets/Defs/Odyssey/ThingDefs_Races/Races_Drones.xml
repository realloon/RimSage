<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <ThingDef ParentName="BasePawn" Name="BaseDrone" Abstract="True">
    <soundImpactDefault>BulletImpact_Metal</soundImpactDefault>
    <statBases>
      <MarketValue>1200</MarketValue>
      <PsychicSensitivity>0</PsychicSensitivity>
      <MoveSpeed>4.2</MoveSpeed>
      <ToxicResistance>1</ToxicResistance>
      <Flammability>0</Flammability>
      <ComfyTemperatureMin>-100</ComfyTemperatureMin>
      <ComfyTemperatureMax>250</ComfyTemperatureMax>
      <MeatAmount>0</MeatAmount>
      <ArmorRating_Blunt>0.05</ArmorRating_Blunt>
      <ArmorRating_Sharp>0.25</ArmorRating_Sharp>
      <ArmorRating_Heat>1.50</ArmorRating_Heat>
      <ToxicEnvironmentResistance>1</ToxicEnvironmentResistance>
      <WorkSpeedGlobal MayRequire="Ludeon.RimWorld.Biotech">0.5</WorkSpeedGlobal>
      <VacuumResistance>1</VacuumResistance>
    </statBases>
    <receivesSignals>true</receivesSignals>
    <tradeability>None</tradeability>
    <race>
      <alwaysAwake>true</alwaysAwake>
      <fleshType>Drone</fleshType>
      <needsRest>false</needsRest>
      <hasGenders>false</hasGenders>
      <hasCorpse>false</hasCorpse>
      <foodType>None</foodType>
      <lifeExpectancy>2500</lifeExpectancy>
      <bloodDef>Filth_MachineBits</bloodDef>
      <disableIgniteVerb>true</disableIgniteVerb>
      <trainability>None</trainability>
      <nameGenerator MayRequire="Ludeon.RimWorld.Biotech">NamerMech</nameGenerator>
      <soundCallIntervalRange>1000~2000</soundCallIntervalRange>
      <soundCallIntervalFriendlyFactor>2</soundCallIntervalFriendlyFactor>
      <thinkTreeConstant>SentryDroneConstant</thinkTreeConstant>
      <hideTrainingTab>true</hideTrainingTab>
      <body>Drone</body>
      <intelligence>ToolUser</intelligence>
      <thinkTreeMain>Drone</thinkTreeMain>
      <canFlyInVacuum>true</canFlyInVacuum>
    </race>
    <tools>
      <li>
        <label>shell spike</label>
        <capacities>
          <li>Stab</li>
        </capacities>
        <power>6</power>
        <cooldownTime>2.6</cooldownTime>
        <linkedBodyPartsGroup>SpikedShellAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
      </li>
    </tools>
    <killedLeavings>
      <Filth_MachineBits>4</Filth_MachineBits>
    </killedLeavings>
  </ThingDef>
  
  <ThingDef ParentName="BaseDrone">
    <defName>Drone_Hunter</defName>
    <label>hunter drone</label>
    <description>An automated kill drone. The hunter drone pursues its target and detonates when it gets close.</description>
    <statBases>
      <MoveSpeed>3.4</MoveSpeed>
    </statBases>
    <race>
      <thinkTreeConstant>HunterDroneConstant</thinkTreeConstant>
      <baseHealthScale>0.35</baseHealthScale>
      <baseBodySize>0.7</baseBodySize>
      <hasCorpse>true</hasCorpse>
      <body>DroneWithThreeLegs</body>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
          <minAge>0</minAge>
          <soundWounded>Pawn_Hunter_Wounded</soundWounded>
          <soundDeath>Pawn_Hunter_Death</soundDeath>
          <soundCall>Pawn_Hunter_Call</soundCall>
        </li>
      </lifeStageAges>
    </race>
    <comps>
      <li Class="CompProperties_MechPowerCell">
        <totalPowerTicks>12500</totalPowerTicks> <!-- 5 hours -->
        <labelOverride>Battery power</labelOverride>
        <tooltipOverride>Drones have limited battery life. When the battery runs dry, the drone dies.</tooltipOverride>
        <showGizmoOnNonPlayerControlled>true</showGizmoOnNonPlayerControlled>
      </li>
      <li Class="CompProperties_HunterDrone">
        <explosionRadius>2.9</explosionRadius>
        <explosionDamageType>Bomb</explosionDamageType>
        <explosionDamageAmount>40</explosionDamageAmount>
      </li>
    </comps>
    <butcherProducts>
      <Steel>15</Steel>
    </butcherProducts>
  </ThingDef>
  
  <ThingDef ParentName="BaseDrone">
    <defName>Drone_Wasp</defName>
    <label>wasp</label>
    <description>A small drone used for defense and situation control. The drone injects a small amount of paralytic biotoxin, stunning organic targets. While designed to be non-lethal, wasps may occasionally kill their target by accident. Wasps are powered by a long-lasting battery.</description>
    <statBases>
      <MoveSpeed>5.8</MoveSpeed>
      <MaxFlightTime>30</MaxFlightTime>
    </statBases>
    <race>
      <thinkTreeConstant>WaspDroneConstant</thinkTreeConstant>
      <baseHealthScale>0.35</baseHealthScale>
      <baseBodySize>0.25</baseBodySize>
      <hasCorpse>true</hasCorpse>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
          <minAge>0</minAge>
          <soundWounded>Pawn_Wasp_Wounded</soundWounded>
          <soundDeath>Pawn_Wasp_Death</soundDeath>
          <soundCall>Pawn_Wasp_Call</soundCall>
        </li>
      </lifeStageAges>
    </race>
    <butcherProducts>
      <Steel>5</Steel>
    </butcherProducts>
    <tools Inherit="False">
      <li>
        <label>stinger</label>
        <capacities>
          <li>Stab</li>
        </capacities>
        <power>6</power>
        <cooldownTime>2.4</cooldownTime>
        <linkedBodyPartsGroup>SpikedShellAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <extraMeleeDamages>
          <li>
            <def>Stun</def>
            <amount>3</amount>
          </li>
        </extraMeleeDamages>
      </li>
    </tools>
  </ThingDef>

  <ThingDef ParentName="BaseDrone">
    <defName>Drone_Sentry</defName>
    <label>sentry drone</label>
    <description>An automated security drone. It continuously patrols an area, looking for intruders. Once an intruder is found, it will relentlessly attack with a short-range scattergun. Its long-lasting battery can keep it going for centuries.</description>
    <descriptionHyperlinks>
      <ThingDef>Gun_Scattergun</ThingDef>
    </descriptionHyperlinks>
    <statBases>
      <MoveSpeed>2.9</MoveSpeed>
      <ArmorRating_Blunt>0.15</ArmorRating_Blunt>
      <ArmorRating_Sharp>0.45</ArmorRating_Sharp>
    </statBases>
    <race>
      <thinkTreeConstant>SentryDroneConstant</thinkTreeConstant>
      <baseHealthScale>1.3</baseHealthScale>
      <baseBodySize>1</baseBodySize>
      <body>DroneWithTreads</body>
      <hasCorpse>true</hasCorpse>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
          <minAge>0</minAge>
          <soundWounded>Pawn_Sentry_Wounded</soundWounded>
          <soundDeath>Pawn_Sentry_Death</soundDeath>
          <soundCall>Pawn_Sentry_Call</soundCall>
        </li>
      </lifeStageAges>
    </race>
    <butcherProducts>
      <Steel>15</Steel>
    </butcherProducts>
    <comps Inherit="False"> <!-- No battery -->
      <li>
        <compClass>CompSentryDrone</compClass>
      </li>
    </comps>
  </ThingDef>
</Defs>